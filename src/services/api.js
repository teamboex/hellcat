// Enhanced Mock BGMI ID data with premium features
export const mockProducts = [
  {
    id: 1,
    title: 'Elite Conqueror Account',
    price: 2500,
    mythics: ['M416 Glacier', 'AKM Red Action', 'Kar98k Golden Dragon'],
    rank: 'Conqueror',
    vehicles: ['Buggy', 'UAZ', 'Motorcycle'],
    pets: ['Panda', 'Eagle'],
    loginType: 'Facebook',
    status: 'Available',
    image: '/api/placeholder/300/200',
    description:
      'Premium account with multiple mythic weapons and conqueror rank',
    level: 75,
    rp: 25000,
    kd: 3.2,
    matches: 1250,
    winRate: 68.5,
    isHot: true,
    isLimited: false,
    isExclusive: true,
    featured: true,
    discount: 0,
    originalPrice: 2500,
  },
  {
    id: 2,
    title: 'Mythic Collection ID',
    price: 1800,
    mythics: [
      'AWM Glacier',
      'M416 Glacier',
      'Kar98k Golden Dragon',
      'UMP9 Glacier',
    ],
    rank: 'Ace',
    vehicles: ['Buggy', 'UAZ', 'Motorcycle', 'Snowmobile'],
    pets: ['Panda', 'Eagle', 'Tiger'],
    loginType: 'Google',
    status: 'Available',
    image: '/api/placeholder/300/200',
    description: 'Amazing collection of mythic weapons with ace rank',
    level: 68,
    rp: 22000,
    kd: 2.8,
    matches: 980,
    winRate: 62.3,
    isHot: false,
    isLimited: true,
    isExclusive: false,
    featured: false,
    discount: 10,
    originalPrice: 2000,
  },
  {
    id: 3,
    title: 'Diamond Rank Account',
    price: 1200,
    mythics: ['M416 Glacier', 'AKM Red Action'],
    rank: 'Diamond',
    vehicles: ['Buggy', 'UAZ'],
    pets: ['Panda'],
    loginType: 'Facebook',
    status: 'Available',
    image: '/api/placeholder/300/200',
    description: 'Solid diamond rank account with good mythic collection',
    level: 55,
    rp: 18000,
    kd: 2.1,
    matches: 750,
    winRate: 55.8,
    isHot: false,
    isLimited: false,
    isExclusive: false,
    featured: false,
    discount: 0,
    originalPrice: 1200,
  },
  {
    id: 4,
    title: 'Crown Rank Premium',
    price: 1500,
    mythics: ['AWM Glacier', 'M416 Glacier', 'Kar98k Golden Dragon'],
    rank: 'Crown',
    vehicles: ['Buggy', 'UAZ', 'Motorcycle'],
    pets: ['Panda', 'Eagle'],
    loginType: 'Google',
    status: 'Sold',
    image: '/api/placeholder/300/200',
    description: 'Crown rank account with excellent mythic weapons',
    level: 62,
    rp: 20000,
    kd: 2.5,
    matches: 890,
    winRate: 58.7,
    isHot: false,
    isLimited: false,
    isExclusive: false,
    featured: false,
    discount: 0,
    originalPrice: 1500,
  },
  {
    id: 5,
    title: 'Platinum Elite ID',
    price: 800,
    mythics: ['M416 Glacier'],
    rank: 'Platinum',
    vehicles: ['Buggy'],
    pets: ['Panda'],
    loginType: 'Facebook',
    status: 'Available',
    image: '/api/placeholder/300/200',
    description: 'Good platinum rank account with M416 Glacier',
    level: 45,
    rp: 15000,
    kd: 1.8,
    matches: 520,
    winRate: 48.2,
    isHot: false,
    isLimited: false,
    isExclusive: false,
    featured: false,
    discount: 0,
    originalPrice: 800,
  },
  {
    id: 6,
    title: 'Ultimate Mythic Account',
    price: 3200,
    mythics: [
      'AWM Glacier',
      'M416 Glacier',
      'AKM Red Action',
      'Kar98k Golden Dragon',
      'UMP9 Glacier',
      'Vector Glacier',
    ],
    rank: 'Conqueror',
    vehicles: ['Buggy', 'UAZ', 'Motorcycle', 'Snowmobile', 'Boat'],
    pets: ['Panda', 'Eagle', 'Tiger', 'Lion'],
    loginType: 'Google',
    status: 'Available',
    image: '/api/placeholder/300/200',
    description:
      'Ultimate account with complete mythic collection and conqueror rank',
    level: 85,
    rp: 30000,
    kd: 4.1,
    matches: 1500,
    winRate: 72.3,
    isHot: true,
    isLimited: true,
    isExclusive: true,
    featured: true,
    discount: 15,
    originalPrice: 3800,
  },
  {
    id: 7,
    title: 'Pro Gamer Special',
    price: 2200,
    mythics: [
      'M416 Glacier',
      'AKM Red Action',
      'Kar98k Golden Dragon',
      'UMP9 Glacier',
    ],
    rank: 'Ace',
    vehicles: ['Buggy', 'UAZ', 'Motorcycle', 'Snowmobile'],
    pets: ['Panda', 'Eagle', 'Tiger'],
    loginType: 'Twitter',
    status: 'Available',
    image: '/api/placeholder/300/200',
    description: 'Professional gamer account with excellent stats',
    level: 78,
    rp: 28000,
    kd: 3.8,
    matches: 1350,
    winRate: 70.2,
    isHot: true,
    isLimited: false,
    isExclusive: false,
    featured: true,
    discount: 0,
    originalPrice: 2200,
  },
  {
    id: 8,
    title: 'Rare Gold Collection',
    price: 950,
    mythics: ['M416 Glacier', 'AKM Red Action'],
    rank: 'Gold',
    vehicles: ['Buggy', 'UAZ'],
    pets: ['Panda', 'Eagle'],
    loginType: 'Guest',
    status: 'Available',
    image: '/api/placeholder/300/200',
    description: 'Rare gold rank account with good mythic collection',
    level: 42,
    rp: 14000,
    kd: 1.9,
    matches: 480,
    winRate: 52.1,
    isHot: false,
    isLimited: true,
    isExclusive: false,
    featured: false,
    discount: 5,
    originalPrice: 1000,
  },
  {
    id: 9,
    title: 'Legendary Warrior',
    price: 2800,
    mythics: [
      'AWM Glacier',
      'M416 Glacier',
      'AKM Red Action',
      'Kar98k Golden Dragon',
      'UMP9 Glacier',
    ],
    rank: 'Conqueror',
    vehicles: ['Buggy', 'UAZ', 'Motorcycle', 'Snowmobile', 'Boat'],
    pets: ['Panda', 'Eagle', 'Tiger', 'Lion', 'Wolf'],
    loginType: 'Facebook',
    status: 'Reserved',
    image: '/api/placeholder/300/200',
    description: 'Legendary warrior account with maximum collection',
    level: 90,
    rp: 35000,
    kd: 4.5,
    matches: 1800,
    winRate: 75.8,
    isHot: true,
    isLimited: true,
    isExclusive: true,
    featured: true,
    discount: 0,
    originalPrice: 2800,
  },
  {
    id: 10,
    title: 'Starter Pack Account',
    price: 600,
    mythics: ['M416 Glacier'],
    rank: 'Silver',
    vehicles: ['Buggy'],
    pets: ['Panda'],
    loginType: 'Google',
    status: 'Available',
    image: '/api/placeholder/300/200',
    description: 'Perfect starter account for new players',
    level: 35,
    rp: 12000,
    kd: 1.5,
    matches: 350,
    winRate: 45.2,
    isHot: false,
    isLimited: false,
    isExclusive: false,
    featured: false,
    discount: 0,
    originalPrice: 600,
  },
];

// Filter options
export const filterOptions = {
  ranks: [
    'All',
    'Conqueror',
    'Ace',
    'Crown',
    'Diamond',
    'Platinum',
    'Gold',
    'Silver',
    'Bronze',
  ],
  loginTypes: ['All', 'Facebook', 'Google', 'Guest'],
  status: ['All', 'Available', 'Sold', 'Reserved'],
  priceRanges: [
    { label: 'All', min: 0, max: Infinity },
    { label: 'Under ₹1000', min: 0, max: 1000 },
    { label: '₹1000 - ₹2000', min: 1000, max: 2000 },
    { label: '₹2000 - ₹3000', min: 2000, max: 3000 },
    { label: 'Above ₹3000', min: 3000, max: Infinity },
  ],
  mythicCounts: [
    { label: 'All', min: 0, max: Infinity },
    { label: '1-2 Mythics', min: 1, max: 2 },
    { label: '3-4 Mythics', min: 3, max: 4 },
    { label: '5+ Mythics', min: 5, max: Infinity },
  ],
};

// Mock orders data
export const mockOrders = [
  {
    id: 'ORD-001',
    productId: 1,
    product: mockProducts[0],
    buyer: {
      name: 'John Doe',
      email: 'john@example.com',
      phone: '+91 98765 43210',
    },
    amount: 2500,
    status: 'completed',
    paymentId: 'pay_123456789',
    createdAt: new Date('2024-01-15T10:30:00Z'),
    deliveredAt: new Date('2024-01-15T10:35:00Z'),
    credentials: {
      id: 'Hellcat123456',
      password: 'SecurePass123',
      loginType: 'Facebook',
    },
  },
  {
    id: 'ORD-002',
    productId: 2,
    product: mockProducts[1],
    buyer: {
      name: 'Jane Smith',
      email: 'jane@example.com',
      phone: '+91 98765 43211',
    },
    amount: 1800,
    status: 'pending',
    paymentId: null,
    createdAt: new Date('2024-01-16T14:20:00Z'),
    deliveredAt: null,
    credentials: null,
  },
  {
    id: 'ORD-003',
    productId: 6,
    product: mockProducts[5],
    buyer: {
      name: 'Alex Kumar',
      email: 'alex.kumar@gmail.com',
      phone: '+91 98765 43212',
    },
    amount: 3200,
    status: 'completed',
    paymentId: 'pay_987654321',
    createdAt: new Date('2024-01-14T09:15:00Z'),
    deliveredAt: new Date('2024-01-14T09:20:00Z'),
    credentials: {
      id: 'Hellcat789012',
      password: 'UltimatePass456',
      loginType: 'Google',
    },
  },
  {
    id: 'ORD-004',
    productId: 3,
    product: mockProducts[2],
    buyer: {
      name: 'Sarah Wilson',
      email: 'sarah.wilson@yahoo.com',
      phone: '+91 98765 43213',
    },
    amount: 1200,
    status: 'completed',
    paymentId: 'pay_456789123',
    createdAt: new Date('2024-01-13T16:45:00Z'),
    deliveredAt: new Date('2024-01-13T16:50:00Z'),
    credentials: {
      id: 'Hellcat345678',
      password: 'DiamondPass789',
      loginType: 'Facebook',
    },
  },
  {
    id: 'ORD-005',
    productId: 7,
    product: mockProducts[6],
    buyer: {
      name: 'Mike Johnson',
      email: 'mike.johnson@outlook.com',
      phone: '+91 98765 43214',
    },
    amount: 2200,
    status: 'pending',
    paymentId: null,
    createdAt: new Date('2024-01-17T11:30:00Z'),
    deliveredAt: null,
    credentials: null,
  },
  {
    id: 'ORD-006',
    productId: 4,
    product: mockProducts[3],
    buyer: {
      name: 'Priya Sharma',
      email: 'priya.sharma@hotmail.com',
      phone: '+91 98765 43215',
    },
    amount: 1500,
    status: 'cancelled',
    paymentId: 'pay_789123456',
    createdAt: new Date('2024-01-12T13:20:00Z'),
    deliveredAt: null,
    credentials: null,
  },
  {
    id: 'ORD-007',
    productId: 9,
    product: mockProducts[8],
    buyer: {
      name: 'David Chen',
      email: 'david.chen@gmail.com',
      phone: '+91 98765 43216',
    },
    amount: 2800,
    status: 'completed',
    paymentId: 'pay_321654987',
    createdAt: new Date('2024-01-11T08:00:00Z'),
    deliveredAt: new Date('2024-01-11T08:05:00Z'),
    credentials: {
      id: 'Hellcat901234',
      password: 'LegendaryPass123',
      loginType: 'Google',
    },
  },
  {
    id: 'ORD-008',
    productId: 10,
    product: mockProducts[9],
    buyer: {
      name: 'Lisa Brown',
      email: 'lisa.brown@yahoo.com',
      phone: '+91 98765 43217',
    },
    amount: 600,
    status: 'completed',
    paymentId: 'pay_654321789',
    createdAt: new Date('2024-01-10T15:30:00Z'),
    deliveredAt: new Date('2024-01-10T15:35:00Z'),
    credentials: {
      id: 'Hellcat567890',
      password: 'StarterPass456',
      loginType: 'Google',
    },
  },
  {
    id: 'ORD-009',
    productId: 5,
    product: mockProducts[4],
    buyer: {
      name: 'Raj Patel',
      email: 'raj.patel@gmail.com',
      phone: '+91 98765 43218',
    },
    amount: 800,
    status: 'processing',
    paymentId: 'pay_147258369',
    createdAt: new Date('2024-01-18T12:15:00Z'),
    deliveredAt: null,
    credentials: null,
  },
  {
    id: 'ORD-010',
    productId: 8,
    product: mockProducts[7],
    buyer: {
      name: 'Emma Davis',
      email: 'emma.davis@outlook.com',
      phone: '+91 98765 43219',
    },
    amount: 950,
    status: 'completed',
    paymentId: 'pay_369258147',
    createdAt: new Date('2024-01-09T17:45:00Z'),
    deliveredAt: new Date('2024-01-09T17:50:00Z'),
    credentials: {
      id: 'Hellcat234567',
      password: 'GoldPass789',
      loginType: 'Twitter',
    },
  },
  {
    id: 'ORD-011',
    productId: 1,
    product: mockProducts[0],
    buyer: {
      name: 'Tom Anderson',
      email: 'tom.anderson@hotmail.com',
      phone: '+91 98765 43220',
    },
    amount: 2500,
    status: 'refunded',
    paymentId: 'pay_852741963',
    createdAt: new Date('2024-01-08T14:20:00Z'),
    deliveredAt: new Date('2024-01-08T14:25:00Z'),
    credentials: null,
  },
  {
    id: 'ORD-012',
    productId: 6,
    product: mockProducts[5],
    buyer: {
      name: 'Sofia Martinez',
      email: 'sofia.martinez@gmail.com',
      phone: '+91 98765 43221',
    },
    amount: 3200,
    status: 'completed',
    paymentId: 'pay_741852963',
    createdAt: new Date('2024-01-07T10:10:00Z'),
    deliveredAt: new Date('2024-01-07T10:15:00Z'),
    credentials: {
      id: 'Hellcat890123',
      password: 'UltimatePass999',
      loginType: 'Facebook',
    },
  },
  {
    id: 'ORD-013',
    productId: 3,
    product: mockProducts[2],
    buyer: {
      name: 'Kevin Lee',
      email: 'kevin.lee@yahoo.com',
      phone: '+91 98765 43222',
    },
    amount: 1200,
    status: 'pending',
    paymentId: null,
    createdAt: new Date('2024-01-19T09:30:00Z'),
    deliveredAt: null,
    credentials: null,
  },
  {
    id: 'ORD-014',
    productId: 7,
    product: mockProducts[6],
    buyer: {
      name: 'Anna Taylor',
      email: 'anna.taylor@outlook.com',
      phone: '+91 98765 43223',
    },
    amount: 2200,
    status: 'completed',
    paymentId: 'pay_963852741',
    createdAt: new Date('2024-01-06T16:00:00Z'),
    deliveredAt: new Date('2024-01-06T16:05:00Z'),
    credentials: {
      id: 'Hellcat456789',
      password: 'ProGamerPass123',
      loginType: 'Google',
    },
  },
  {
    id: 'ORD-015',
    productId: 9,
    product: mockProducts[8],
    buyer: {
      name: 'James Wilson',
      email: 'james.wilson@gmail.com',
      phone: '+91 98765 43224',
    },
    amount: 2800,
    status: 'processing',
    paymentId: 'pay_159753486',
    createdAt: new Date('2024-01-20T11:45:00Z'),
    deliveredAt: null,
    credentials: null,
  },
];

// API functions
export const api = {
  // Get all products
  getProducts: async (filters = {}) => {
    // Simulate API delay
    await new Promise((resolve) => setTimeout(resolve, 300));

    let filteredProducts = [...mockProducts];

    // Apply filters
    if (filters.search) {
      const searchTerm = filters.search.toLowerCase();
      filteredProducts = filteredProducts.filter(
        (product) =>
          product.title.toLowerCase().includes(searchTerm) ||
          product.rank.toLowerCase().includes(searchTerm) ||
          product.mythics.some((mythic) =>
            mythic.toLowerCase().includes(searchTerm)
          )
      );
    }

    if (filters.rank && filters.rank !== 'All') {
      filteredProducts = filteredProducts.filter(
        (product) => product.rank === filters.rank
      );
    }

    if (filters.loginType && filters.loginType !== 'All') {
      filteredProducts = filteredProducts.filter(
        (product) => product.loginType === filters.loginType
      );
    }

    if (filters.status && filters.status !== 'All') {
      filteredProducts = filteredProducts.filter(
        (product) => product.status === filters.status
      );
    }

    if (filters.priceRange) {
      const { min, max } = filters.priceRange;
      filteredProducts = filteredProducts.filter(
        (product) => product.price >= min && product.price <= max
      );
    }

    if (filters.mythicCount) {
      const { min, max } = filters.mythicCount;
      filteredProducts = filteredProducts.filter(
        (product) =>
          product.mythics.length >= min && product.mythics.length <= max
      );
    }

    // Apply sorting
    if (filters.sortBy) {
      switch (filters.sortBy) {
        case 'price-low':
          filteredProducts.sort((a, b) => a.price - b.price);
          break;
        case 'price-high':
          filteredProducts.sort((a, b) => b.price - a.price);
          break;
        case 'rank': {
          const rankOrder = [
            'Conqueror',
            'Ace',
            'Crown',
            'Diamond',
            'Platinum',
            'Gold',
            'Silver',
            'Bronze',
          ];
          filteredProducts.sort(
            (a, b) => rankOrder.indexOf(a.rank) - rankOrder.indexOf(b.rank)
          );
          break;
        }
        case 'mythics':
          filteredProducts.sort((a, b) => b.mythics.length - a.mythics.length);
          break;
        default:
          break;
      }
    }

    return {
      products: filteredProducts,
      total: filteredProducts.length,
      page: filters.page || 1,
      limit: filters.limit || 12,
    };
  },

  // Get single product
  getProduct: async (id) => {
    await new Promise((resolve) => setTimeout(resolve, 200));
    return mockProducts.find((product) => product.id === parseInt(id));
  },

  // Get filter options
  getFilterOptions: async () => {
    await new Promise((resolve) => setTimeout(resolve, 100));
    return filterOptions;
  },

  // Create order
  createOrder: async (orderData) => {
    await new Promise((resolve) => setTimeout(resolve, 500));

    const newOrder = {
      id: `ORD-${Date.now()}`,
      ...orderData,
      status: 'pending',
      createdAt: new Date(),
      deliveredAt: null,
      credentials: null,
    };

    mockOrders.push(newOrder);
    return newOrder;
  },

  // Process payment
  processPayment: async (orderId, paymentData) => {
    await new Promise((resolve) => setTimeout(resolve, 1000));

    const order = mockOrders.find((o) => o.id === orderId);
    if (!order) {
      throw new Error('Order not found');
    }

    // Simulate payment processing
    const isSuccess = Math.random() > 0.1; // 90% success rate

    if (isSuccess) {
      order.status = 'completed';
      order.paymentId = `pay_${Date.now()}`;
      order.deliveredAt = new Date();

      // Generate mock credentials
      order.credentials = {
        id: `Hellcat${Math.floor(Math.random() * 1000000)}`,
        password: `Pass${Math.floor(Math.random() * 10000)}`,
        loginType: order.product.loginType,
      };

      // Update product status to sold
      const product = mockProducts.find((p) => p.id === order.productId);
      if (product) {
        product.status = 'Sold Out';
      }

      return {
        success: true,
        paymentId: order.paymentId,
        credentials: order.credentials,
      };
    } else {
      throw new Error('Payment failed. Please try again.');
    }
  },

  // Get all orders (admin)
  getOrders: async () => {
    await new Promise((resolve) => setTimeout(resolve, 300));
    return mockOrders.sort(
      (a, b) => new Date(b.createdAt) - new Date(a.createdAt)
    );
  },

  // Get order by ID
  getOrder: async (orderId) => {
    await new Promise((resolve) => setTimeout(resolve, 200));
    return mockOrders.find((order) => order.id === orderId);
  },

  // Update order status (admin)
  updateOrderStatus: async (orderId, status) => {
    await new Promise((resolve) => setTimeout(resolve, 300));

    const order = mockOrders.find((o) => o.id === orderId);
    if (order) {
      order.status = status;
      if (status === 'completed' && !order.deliveredAt) {
        order.deliveredAt = new Date();
      }
      return order;
    }
    throw new Error('Order not found');
  },

  // Export orders to CSV (mock)
  exportOrders: async () => {
    await new Promise((resolve) => setTimeout(resolve, 500));

    const csvData = mockOrders.map((order) => ({
      'Order ID': order.id,
      Product: order.product.title,
      'Buyer Name': order.buyer.name,
      Email: order.buyer.email,
      Phone: order.buyer.phone,
      Amount: order.amount,
      Status: order.status,
      'Created At': order.createdAt.toISOString(),
    }));

    return csvData;
  },

  // Get recent purchases for social proof
  getRecentPurchases: async () => {
    await new Promise((resolve) => setTimeout(resolve, 200));

    return mockOrders
      .filter((order) => order.status === 'completed')
      .slice(0, 5)
      .map((order) => ({
        id: order.id,
        productName: order.product.title,
        buyerName: order.buyer.name.split(' ')[0] + '***', // Partial name for privacy
        amount: order.amount,
        purchasedAt: order.createdAt,
      }));
  },

  // Product Management APIs
  addProduct: async (productData) => {
    await new Promise((resolve) => setTimeout(resolve, 500));

    const newProduct = {
      id: Math.max(...mockProducts.map(p => p.id)) + 1,
      ...productData,
      createdAt: new Date(),
      updatedAt: new Date(),
    };

    mockProducts.unshift(newProduct);
    return newProduct;
  },

  updateProduct: async (productId, productData) => {
    await new Promise((resolve) => setTimeout(resolve, 500));

    const productIndex = mockProducts.findIndex(p => p.id === productId);
    if (productIndex === -1) {
      throw new Error('Product not found');
    }

    const updatedProduct = {
      ...mockProducts[productIndex],
      ...productData,
      updatedAt: new Date(),
    };

    mockProducts[productIndex] = updatedProduct;
    return updatedProduct;
  },

  deleteProduct: async (productId) => {
    await new Promise((resolve) => setTimeout(resolve, 500));

    const productIndex = mockProducts.findIndex(p => p.id === productId);
    if (productIndex === -1) {
      throw new Error('Product not found');
    }

    mockProducts.splice(productIndex, 1);
    return { success: true };
  },

  // Analytics API
  getAnalytics: async () => {
    await new Promise((resolve) => setTimeout(resolve, 300));

    const completedOrders = mockOrders.filter(o => o.status === 'completed');
    const pendingOrders = mockOrders.filter(o => o.status === 'pending');

    // Calculate top products
    const productSales = {};
    completedOrders.forEach(order => {
      const productId = order.productId;
      if (!productSales[productId]) {
        productSales[productId] = {
          product: order.product,
          sales: 0,
          revenue: 0,
        };
      }
      productSales[productId].sales += 1;
      productSales[productId].revenue += order.amount;
    });

    const topProducts = Object.values(productSales)
      .sort((a, b) => b.revenue - a.revenue)
      .slice(0, 5);

    // Recent sales (last 7 days)
    const sevenDaysAgo = new Date();
    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);

    const recentSales = completedOrders
      .filter(order => new Date(order.createdAt) >= sevenDaysAgo)
      .map(order => ({
        date: order.createdAt,
        amount: order.amount,
        product: order.product.title,
      }));

    return {
      totalRevenue: completedOrders.reduce((sum, order) => sum + order.amount, 0),
      totalOrders: mockOrders.length,
      completedOrders: completedOrders.length,
      pendingOrders: pendingOrders.length,
      topProducts,
      recentSales,
    };
  },
};

export default api;
